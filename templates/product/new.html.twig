{#
    Template: Crear Nuevo Producto (new)

    PROPÓSITO:
    - Formulario para registrar un nuevo producto en el sistema
    - Incluye formulario reutilizable _form.html.twig

    DATOS RECIBIDOS:
    - form: Objeto FormView con el formulario ProductType
    - product: Objeto Product vacío/nuevo (desde ProductController::new)

    CARACTERÍSTICAS:
    - Card Bootstrap para contener el formulario
    - Label personalizado del botón: "Guardar Producto"
    - NO muestra información de auditoría (el producto aún no existe)
    - El campo createBy se setea automáticamente en el controlador

    FLUJO:
    1. Usuario llena el formulario
    2. Al enviar, ProductController::new() valida
    3. Si es válido:
       - Se ejecuta $product->setCreateBy($this->getUser())
       - Se persiste en BD
       - Flash message de éxito
       - Redirección a listado
    4. Si hay errores: vuelve a mostrar formulario con mensajes
#}
{% extends 'home/base.html.twig' %}

{% block title %}Nuevo Producto{% endblock %}

{% block breadcrumbs %}
  {% include 'partials/_breadcrumbs.html.twig' with {
    items: [
      { label: 'Productos', route: 'app_product_index' },
      { label: 'Nuevo', active: true }
    ]
  } %}
{% endblock %}

{% block content %}
  {% set cardBody %}
    {{ include('product/_form.html.twig', {'button_label': 'Guardar Producto'}) }}
    <div class="mt-3">
      <a class="btn btn-secondary" href="{{ path('app_product_index') }}">Volver al listado</a>
    </div>
  {% endset %}

  {% include 'partials/_card.html.twig' with {
    title: 'Crear Nuevo Producto',
    content: cardBody,
    color: 'light'
  } %}
{% endblock %}
